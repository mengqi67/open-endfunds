import{d as B,r as i,c as b,a as o,b as l,w as a,u as n,v as e,g as d,f as W,t as M,e as N,o as O,_ as T}from"./index-DA0Ux6Bu.js";import{g as U,d as F}from"./account-Bor20H8X.js";import"./index-D_m96NXQ.js";const I=[{title:"岗位编号",key:"positionid",minWidth:30},{title:"岗位名称",key:"positionname",minWidth:60},{title:"岗位状态",key:"positionstatus",minWidth:60},{title:"岗位人数",key:"positionamount",minWidth:60},{title:"创建时间",key:"creattime",minWidth:60},{title:"创建人",key:"creator",minWidth:80},{title:"操作",slot:"operation",fixed:"right",width:280}],D={class:"page-main"},E={class:"option-wrap"},R={class:"right"},L=["onClick"],P={class:"page-wrap"},S=B({__name:"page-1",setup($){const m=i("");N();const u=i(!1),p=i(!1),c=i(""),v=i([]),g=i(0);async function _(){console.log("re"),u.value=!0;const s=await U({name:m.value});console.log(s),v.value=s.data,g.value=s.data.length||0,u.value=!1}function y(){u.value=!0,setTimeout(()=>{u.value=!1},1500)}function k(s){return c.value=s.name,!1}function x(){e.Message.success("导入成功"),p.value=!1}function C(){p.value=!1}function f(){e.Message.error("暂无权限，请联系管理员！")}function w(s){console.log(s),e.Modal.confirm({title:"确认注销吗？",content:"注销后将无法恢复",onOk:async()=>{const t=await F({id:s.positionid});console.log(t.error),t.error||(e.Message.success("撤销成功"),_())}})}return _(),(s,t)=>{const V=W("router-link");return O(),b("div",D,[t[12]||(t[12]=o("div",{class:"page-title"},"岗位管理",-1)),l(n(e.Card),{bordered:!1,shadow:""},{default:a(()=>[o("div",null,[l(n(e.Input),{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),icon:"ios-search",placeholder:"岗位名称",style:{width:"200px"}},null,8,["modelValue"]),l(n(e.Button),{type:"text",icon:"ios-funnel-outline",onClick:y},{default:a(()=>t[2]||(t[2]=[d("筛选",-1)])),_:1,__:[2]})]),o("div",E,[t[6]||(t[6]=o("div",{class:"left"},null,-1)),o("div",R,[l(V,{to:"/account-management/new"},{default:a(()=>[l(n(e.Button),{type:"primary"},{default:a(()=>t[3]||(t[3]=[d("新增",-1)])),_:1,__:[3]})]),_:1}),l(n(e.Button),{style:{"margin-left":"10px"},onClick:f},{default:a(()=>t[4]||(t[4]=[d("导出",-1)])),_:1,__:[4]}),l(n(e.Button),{style:{"margin-left":"10px"},onClick:y},{default:a(()=>t[5]||(t[5]=[d("刷新",-1)])),_:1,__:[5]})])]),l(n(e.Table),{columns:n(I),data:v.value,loading:u.value},{operation:a(({row:r})=>[o("div",null,[o("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:f},"查看权限"),t[7]||(t[7]=o("span",{style:{margin:"0 5px"}},"|",-1)),o("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:f},"变更"),t[8]||(t[8]=o("span",{style:{margin:"0 5px"}},"|",-1)),o("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:f},"停用"),t[9]||(t[9]=o("span",{style:{margin:"0 5px"}},"|",-1)),o("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:j=>w(r)},"注销",8,L)])]),_:1},8,["columns","data","loading"]),t[10]||(t[10]=o("br",null,null,-1)),o("div",P,[l(n(e.Page),{total:g.value,"show-total":""},null,8,["total"])])]),_:1,__:[10]}),l(n(e.Modal),{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=r=>p.value=r),title:"导入",onOnOk:x,onOnCancel:C},{default:a(()=>[l(n(e.Form),null,{default:a(()=>[l(n(e.FormItem),{label:"上传文件"},{default:a(()=>[l(n(e.Upload),{action:"","before-upload":k},{default:a(()=>[l(n(e.Button),{icon:"ios-cloud-upload-outline"},{default:a(()=>t[11]||(t[11]=[d("上传文件",-1)])),_:1,__:[11]})]),_:1}),o("div",null,M(c.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),G=T(S,[["__scopeId","data-v-a0713777"]]);export{G as default};
