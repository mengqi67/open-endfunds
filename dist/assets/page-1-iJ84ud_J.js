import{d as W,r,c as N,a as n,b as o,w as a,u as l,v as e,e as b,f as M,o as I,g as i,t as U,_ as D}from"./index-DA0Ux6Bu.js";import{g as O,d as T}from"./project-reserve-CNSbUp2y.js";import"./index-D_m96NXQ.js";const F=[{type:"selection",width:60,align:"center"},{title:"序号",type:"index",minWidth:30},{title:"产品全称",key:"name",minWidth:60},{title:"产品代码",key:"fundNo",minWidth:60},{title:"发行场所",key:"place",minWidth:60},{title:"产品注册日期",key:"registrationDate",minWidth:60},{title:"注册规模",key:"registrationScale",minWidth:80},{title:"最低募集金额",key:"minimumRecruitmentAmount",minWidth:100},{title:"产品期限",key:"productTerm",minWidth:100},{title:"托管人",key:"creator",minWidth:60},{title:"操作",slot:"operation",fixed:"right",width:160}],R={class:"page-main"},j={class:"option-wrap"},E={class:"left"},S={class:"arrow-wrap"},A={class:"right"},L=["onClick"],P={class:"page-wrap"},$=W({__name:"page-1",setup(q){const c=r(""),g=b(),m=r(!1),d=r(!1),f=r(""),v=r([]),_=r(0);async function u(){m.value=!0;const s=await O({name:c.value});v.value=s.data,_.value=s.data.length||0,m.value=!1}function y(){g.push("/project-reserve/detail")}function k(){d.value=!0}function w(s){return f.value=s.name,!1}function x(){e.Message.success("导入成功"),d.value=!1}function C(){d.value=!1}function h(){e.Message.error("暂无权限，请联系管理员！")}function B(s){console.log(s),e.Modal.confirm({title:"确认撤销吗？",content:"撤销后将无法恢复",onOk:async()=>{const t=await T({id:s.fundNo});console.log(t.error),t.error||(e.Message.success("撤销成功"),u())}})}return u(),(s,t)=>{const V=M("router-link");return I(),N("div",R,[t[11]||(t[11]=n("div",{class:"page-title"},"登记管理",-1)),o(l(e.Card),{bordered:!1,shadow:""},{default:a(()=>[n("div",null,[o(l(e.Input),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=p=>c.value=p),icon:"ios-search",placeholder:"基金简称",style:{width:"200px"}},null,8,["modelValue"]),o(l(e.Button),{type:"text",icon:"ios-funnel-outline",onClick:u},{default:a(()=>t[2]||(t[2]=[i("筛选",-1)])),_:1,__:[2]})]),n("div",j,[n("div",E,[n("div",{class:"sort-wrap",onClick:u},[t[3]||(t[3]=i("排序：创建时间 ",-1)),n("div",S,[o(l(e.Icon),{type:"md-arrow-dropup",class:"arrow-up"}),o(l(e.Icon),{type:"md-arrow-dropdown",color:"#2d8cf0"})])]),o(l(e.Button),{type:"text",icon:"md-refresh",onClick:u},{default:a(()=>t[4]||(t[4]=[i("刷新",-1)])),_:1,__:[4]})]),n("div",A,[o(V,{to:"/project-reserve/new"},{default:a(()=>[o(l(e.Button),{type:"primary"},{default:a(()=>t[5]||(t[5]=[i("新建产品",-1)])),_:1,__:[5]})]),_:1}),o(l(e.Button),{style:{"margin-left":"10px"},onClick:k},{default:a(()=>t[6]||(t[6]=[i("登记信息导入",-1)])),_:1,__:[6]}),o(l(e.Button),{style:{"margin-left":"10px"},onClick:h},{default:a(()=>t[7]||(t[7]=[i("初始登记",-1)])),_:1,__:[7]})])]),o(l(e.Table),{columns:l(F),data:v.value,loading:m.value},{operation:a(({row:p})=>[n("div",null,[n("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:y},"查看"),t[8]||(t[8]=n("span",{style:{margin:"0 5px"}},"|",-1)),n("span",{style:{color:"#2d8cf0",cursor:"pointer"},onClick:z=>B(p)},"撤销",8,L)])]),_:1},8,["columns","data","loading"]),t[9]||(t[9]=n("br",null,null,-1)),n("div",P,[o(l(e.Page),{total:_.value,"show-total":""},null,8,["total"])])]),_:1,__:[9]}),o(l(e.Modal),{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=p=>d.value=p),title:"导入",onOnOk:x,onOnCancel:C},{default:a(()=>[o(l(e.Form),null,{default:a(()=>[o(l(e.FormItem),{label:"上传文件"},{default:a(()=>[o(l(e.Upload),{action:"","before-upload":w},{default:a(()=>[o(l(e.Button),{icon:"ios-cloud-upload-outline"},{default:a(()=>t[10]||(t[10]=[i("上传文件",-1)])),_:1,__:[10]})]),_:1}),n("div",null,U(f.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),K=D($,[["__scopeId","data-v-54466611"]]);export{K as default};
