import{d as C,r as i,h as D,c as q,a as s,b as l,w as o,u as a,v as t,g as d,t as N,e as U,o as w,_ as x}from"./index-DA0Ux6Bu.js";import{a as y}from"./project-reserve-CNSbUp2y.js";import"./index-D_m96NXQ.js";const B={class:"page-main"},O=C({__name:"new",setup(S){const p=i(),r=D({fundNo:"",name:"",registrationDate:"",redemptionSize:"",redemptionAmount:"",detail:"",notes:"",place:"",productTerm:""}),_=U(),f=i(""),m=i(!1),c={fundNo:[{required:!0,message:"请输入产品代码",trigger:"change"}],name:[{required:!0,message:"请输入产品全称",trigger:"change"}],registrationDate:[{required:!0,message:"请选择注册日期",trigger:"change"}],productTerm:[{required:!0,message:"请选择产品期限",trigger:"change"}],redemptionSize:[{required:!0,message:"请输入赎回总份额",trigger:"change"}],redemptionAmount:[{required:!0,message:"请输入赎回总金额",trigger:"change"}],detail:[{required:!0,message:"请输入明细数据",trigger:"change"}],notes:[{required:!0,message:"请输入备注",trigger:"change"}],place:[{required:!0,trigger:"change"}]};function v(u){return f.value=u.name,!1}function V(u){r.registrationDate=u}function I(u){r.productTerm=u}function b(){console.log(r),p.value.validate().then(u=>{u&&y(r).then(e=>{e.error||(t.Message.success("添加成功"),setTimeout(()=>{g()},1e3))})})}function g(){_.go(-1)}function F(){t.Message.success("上传成功"),m.value=!1}function k(){m.value=!1}return(u,e)=>(w(),q("div",B,[e[12]||(e[12]=s("div",{class:"page-title"},"新建产品",-1)),l(a(t.Card),{bordered:!1,shadow:""},{default:o(()=>[e[10]||(e[10]=s("div",{class:"sub-title"},"基本信息",-1)),l(a(t.Form),{ref_key:"formRef",ref:p,model:r,"label-width":120,rules:c},{default:o(()=>[l(a(t.FormItem),{label:"产品代码",prop:"fundNo"},{default:o(()=>[l(a(t.Input),{modelValue:r.fundNo,"onUpdate:modelValue":e[0]||(e[0]=n=>r.fundNo=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(a(t.FormItem),{label:"产品全称",prop:"name"},{default:o(()=>[l(a(t.Input),{modelValue:r.name,"onUpdate:modelValue":e[1]||(e[1]=n=>r.name=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(a(t.FormItem),{label:"发行场所",prop:"place"},{default:o(()=>[l(a(t.Select),{modelValue:r.place,"onUpdate:modelValue":e[2]||(e[2]=n=>r.place=n)},{default:o(()=>[l(a(t.Option),{value:"场内"},{default:o(()=>e[6]||(e[6]=[d("场内",-1)])),_:1,__:[6]}),l(a(t.Option),{value:"场外"},{default:o(()=>e[7]||(e[7]=[d("场外",-1)])),_:1,__:[7]})]),_:1},8,["modelValue"])]),_:1}),l(a(t.FormItem),{label:"产品注册日期",prop:"registrationDate"},{default:o(()=>[l(a(t.DatePicker),{type:"date","model-value":r.registrationDate,placeholder:"请选择",onOnChange:V},null,8,["model-value"])]),_:1}),l(a(t.FormItem),{label:"注册规模",prop:"redemptionSize"},{default:o(()=>[l(a(t.Input),{modelValue:r.redemptionSize,"onUpdate:modelValue":e[3]||(e[3]=n=>r.redemptionSize=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(a(t.FormItem),{label:"最低募集金额",prop:"redemptionAmount"},{default:o(()=>[l(a(t.Input),{modelValue:r.redemptionAmount,"onUpdate:modelValue":e[4]||(e[4]=n=>r.redemptionAmount=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(a(t.FormItem),{label:"产品期限",prop:"productTerm"},{default:o(()=>[l(a(t.DatePicker),{type:"date","model-value":r.productTerm,placeholder:"请选择",onOnChange:I},null,8,["model-value"])]),_:1}),l(a(t.FormItem),null,{default:o(()=>[l(a(t.Button),{type:"primary",onClick:b},{default:o(()=>e[8]||(e[8]=[d("添加",-1)])),_:1,__:[8]}),l(a(t.Button),{style:{"margin-left":"8px"},onClick:g},{default:o(()=>e[9]||(e[9]=[d("返回上一页",-1)])),_:1,__:[9]})]),_:1})]),_:1},8,["model"])]),_:1,__:[10]}),l(a(t.Modal),{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=n=>m.value=n),title:"上传",onOnOk:F,onOnCancel:k},{default:o(()=>[l(a(t.Form),null,{default:o(()=>[l(a(t.FormItem),{label:"上传附件"},{default:o(()=>[l(a(t.Upload),{action:"","before-upload":v},{default:o(()=>[l(a(t.Button),{icon:"ios-cloud-upload-outline"},{default:o(()=>e[11]||(e[11]=[d("上传文件",-1)])),_:1,__:[11]})]),_:1}),s("div",null,N(f.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),h=x(O,[["__scopeId","data-v-6f251031"]]);export{h as default};
