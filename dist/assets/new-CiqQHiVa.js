import{d as c,r,h as v,c as I,a as m,b as t,w as a,u as l,v as o,g as d,e as w,o as x,_ as B}from"./index-DA0Ux6Bu.js";import{a as k}from"./account-Bor20H8X.js";import"./index-D_m96NXQ.js";const F={class:"page-main"},C=c({__name:"new",setup(U){const u=r(),i=v({positionname:"",positiondes:"",positionpermition:""}),f=w(),_=r("");r(!1);const g={positionname:[{required:!0,message:"请输入岗位名称",trigger:"change"}],positiondes:[{required:!0,message:"请输入岗位描述",trigger:"change"}],positionpermition:[{required:!0,message:"请输入岗位权限",trigger:"change"}]};function V(s){return _.value=s.name,!1}function b(){u.value.validate().then(s=>{s&&k(i).then(e=>{console.log(e.error),e.error||(o.Message.success("添加成功"),setTimeout(()=>{p()},1e3))})})}function p(){f.go(-1)}return(s,e)=>(x(),I("div",F,[e[7]||(e[7]=m("div",{class:"page-title"},"新建岗位",-1)),t(l(o.Card),{bordered:!1,shadow:""},{default:a(()=>[e[6]||(e[6]=m("div",{class:"sub-title"},"岗位信息",-1)),t(l(o.Form),{ref_key:"formRef",ref:u,model:i,"label-width":120,rules:g},{default:a(()=>[t(l(o.FormItem),{label:""},{default:a(()=>[t(l(o.Upload),{action:"/","before-upload":V},{default:a(()=>[t(l(o.Button),{icon:"ios-cloud-upload-outline"},{default:a(()=>e[3]||(e[3]=[d("模板选择",-1)])),_:1,__:[3]})]),_:1})]),_:1}),t(l(o.FormItem),{label:"岗位名称：",prop:"positionname"},{default:a(()=>[t(l(o.Input),{modelValue:i.positionname,"onUpdate:modelValue":e[0]||(e[0]=n=>i.positionname=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),t(l(o.FormItem),{label:"岗位描述：",prop:"positiondes"},{default:a(()=>[t(l(o.Input),{modelValue:i.positiondes,"onUpdate:modelValue":e[1]||(e[1]=n=>i.positiondes=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),t(l(o.FormItem),{label:"权限列表",prop:"positionpermition"},{default:a(()=>[t(l(o.Input),{modelValue:i.positionpermition,"onUpdate:modelValue":e[2]||(e[2]=n=>i.positionpermition=n),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),t(l(o.FormItem),null,{default:a(()=>[t(l(o.Button),{type:"primary",onClick:b},{default:a(()=>e[4]||(e[4]=[d("提交",-1)])),_:1,__:[4]}),t(l(o.Button),{style:{"margin-left":"8px"},onClick:p},{default:a(()=>e[5]||(e[5]=[d("返回上一页",-1)])),_:1,__:[5]})]),_:1})]),_:1},8,["model"])]),_:1,__:[6]})]))}}),R=B(C,[["__scopeId","data-v-8477ab61"]]);export{R as default};
